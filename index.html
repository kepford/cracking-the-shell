<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Cracking the Shell: Commandline for the Drupaler</title>

		<meta name="description" content="Commandline for the Drupaler.">
		<meta name="author" content="Bob Kepford">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href='https://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/mediacurrent.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
     <!--[if lt IE 9]>
       <script src="lib/js/html5shiv.js"></script>
     <![endif]-->
	</head>
	<body>
    <div class="header">
    <a href="http://www.mediacurrent.com/">
        <img src="mediacurrent/logo.png" alt="Mediacurrent" height="45px"/>
    </a>
    </div>
<div class="reveal">

	<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
<section>
   <h1>Cracking the Shell</h1>
   <p>Command line for the Drupaler</p>

  <aside class="notes">
    Ask how many command line experts we have. How many of you don't spend much time in the command line.
  </aside>
</section>

<section>
  <h1>What is the Shell?</h1>
    <p class="fragment">A shell is a user interface for access to an operating system's services.</p>
</section>

<section>
  <h2>CLI (command-line interface)</h2>
      <p>Text command lines</p>
</section>

<section>
  <h2>Strengths of the CLI</h2>
  <ul>
    <p class="fragment">Light on Resources</p>
    <p class="fragment">Concise</p>
    <p class="fragment">Scriptable for Automation</p>
  </ul>
</section>

<section>
    <h2>Weaknesses of the CLI</h2>
      <p class="fragment">Commands are not obvious</p>
      <p class="fragment">Not beginner friendly</p>
</section>

<section>
  <h2>Why you should learn to use the Shell</h2>
</section>

<section>
    <img src="assets/unix-system.gif" width="100%" />
</section>

<section>
    <h3>67.8% to 98.3% of the Servers on the Net are using Unix or Unix like systems<h3>
        <aside class="notes">
          Unix systems have won. You will never regret learning Unix tools.
        </aside>
</section>

<section>
 <blockquote>"I have never regretted learning to use a command line tool."</blockquote>
 <p> <br />~ Me</p>
</section>

<section>
    <h2>CLI's are everywhere</h2>
    <p>PHP</p>
    <p>Github</p>
    <p>MySQL</p>
    <p>Drupal</p>
    <p>Grunt</p>
    <p>Sass</p>
    <aside class="notes">
      The aren't going away. GUI's are great but CLI's make the world tick. Programming languages have them Popular web services like Github have them. And your computer has them
    <aside>
</section>
<section>
  <h3>Scripts / Automation</h3>
     <aside class="notes">
      You're a developer. You can save time and automate the mundane by writing scripts that execute the commands you learn.
    </aside>
</section>

<section>
  <h3>Bob Kepford</h3>
  <p>Lead Architect</p>
  <p><a href="http://mediacurrent.com">Mediacurrent.com</a></p>
  <p>Publisher</p>
  <p> <a href="http://theweeklydrop.com">TheWeeklyDrop.com</a></p>
     <aside class="notes">
       Time for the awesome demo.
     </aside>
</section>

  <section data-state="background" data-background-video="video/demo.mp4" data-background-color="#003954">

     <aside class="notes">
       <li> Sets up a tmux session with split screens</li>
       <li> Drush aliases all instances in separate terminal sessions in tmux</li>
       <li> Starts tailing the watchdog for my local dev instance.</li>
       <li> Starts Vim</li>
       <li> Starts Vagrant VM</li>
    </aside>
  </section>

<section>
  <h3>Customization / Personalization</h3>
  <p>Make your computer work in the way you want it to.</p>
</section>


<section>
  <section>
    <h3>.dot files</h3>
    <p class="fragment">Configuration files.</p>
    <p class="fragment">Begin with a .</p>
    <p class="fragment">Live in ~</p>
    <aside class="notes">
    Dot files are files that begin with a . and are therefore invisible to file browsers on most systems.
    </aside>
  </section>

  <section>
    <h3>Making the most of Dotfiles</h3>
    <p class="fragment">Symlink to a single directory</p>
    <p class="fragment">Track in Git</p>
    <p class="fragment">You can take your customizations with you.</p>
    <p class="fragment">Look at other dotfiles and steal liberally</p>
    <p class="fragment">Add small bits at a time and learn how to use them</p>
  </section>

  <section>
   <h2>Symlink</h2>
        <p>A Symbolic link is any file that contains a reference to another file or directory in the form of an absolute or relative path.</p>
        <pre><code>ln -s ~/source_file ~/bin/dotfiles/target_file</code></pre>
  </section>

  <section>
    <h3>What do you put in your dotfiles repo?</h3>
  </section>
</section>

<section>
  <h3>The Shell</h3>
  <p class="fragment"> <a href="https://www.gnu.org/software/bash/">Bash</a>:
  <br />the GNU Project's shell and is what I use.</p>
  <p class="fragment"> <a href="http://www.zsh.org/">ZSH</a>:
  <br /> a shell designed for interactive use, although it is also a powerful scripting language</p>
  <p class="fragment"> <a href="https://fishshell.com/">Fish</a>:
   <br />a smart and user-friendly command line shell for OS X, Linux, and the rest of the family.</p>
  <aside class="notes">
    I use BASH but there are other great and more powerful and fancy shells like ZSH and Fish.
  </aside>
</section>

<section>
  <h3>Environment / $PATH</h3>
  <p>Add things to your path</p>
  <aside class="notes">
    PATH is an environment variable on Unix-like operating systems, DOS, OS/2, and Microsoft Windows, specifying a set of directories where executable programs are located. https://en.wikipedia.org/wiki/PATH_(variable)
  </aside>
</section>

<section>
    <h3>Alias</h3>
      <p>Shortcuts to commands.</p>
      <pre>
        <code>
          alias a='ls -A'
          alias la="ls -A -l -G"
          alias c='clear'
          alias l.='ls -d .[^.]*'
          alias l='ls -lhGt'
        </code>
      </pre>
</section>

<section data-state="background" data-background-video="videos/aliases.mp4" data-background-video-loop data-background-color="#003954">
</section>
<section>
      <h3>Functions</h3>
      <pre>
      <code>
        function take() {
            mkdir -p "$1"
            cd "$1"
        }
      </code>
      </pre>
</section>

<section data-state="background" data-background-video="videos/take.mp4" data-background-video-loop data-background-color="#003954">
</section>
<section>
  <h2>SSH</h2>
   <p>Secure Socket Shell</p>
</section>

<section>
  <h3>~/.ssh/config</h3>
  <p>Save yourself from trying to remember IP addresses and port numbers</p>
    <img src="assets/ssh_config.png" alt="" width="" height="" border="0" />
</section>

<section>
  <h3>Privacy and Security</h3>
  <p>Don't put sensitive info in your Git repo if you plan to make it public.</p>
  <aside class="notes">
  <p>Include this info in files outside the repo.</p>
</aside>
</section>

<section>

  <section>
    <h2>Git</h2>
    <p class="fragment">Don't use a GUI</p>
    <p class="fragment">Learn to use the commands</p>
  </section>

  <section>
    <h2>Git config</h2>
    <p>~/.gitconfig</p>
     <img src="assets/git_config.png" class="fragment" alt="" width="" height="" border="0" />
  </section>

  <section>
    <h2>Git aliases</h2>
   <img src="assets/git-aliases.png" alt="" width="100%" height="" border="0" />
  </section>

  <section data-state="background" data-background-video="videos/git-aliases.mp4" data-background-video-loop data-background-color="#003954">

   <aside class="notes">
     <li> git log</li>
     <li> git lol ##graph</li>
     <li> git ll adds numstat, number of lines changed</li>
     <li> git lola same as lol but all branches</li>
     <li> git lolm just my commit</li>
  </aside>
  </section>

  <section>
    <h2>Ignoring files</h2>
    <p>Per machine: ~/.gitconfig</p>
    <p>Per project: .gitignore file in the repository</p>
    <p>Per repo:  .git/info/excludes</p>
  </section>

  <section>
    <h2>Git Hooks</h2>
     <pre><code>
     .git/hooks
     </pre></code>
     <p><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Customizing Git - Git Hooks</a></p>
  </section>

  <section>
    <h2>Pre commit </h2>
     <p>Code linting.</p>
      <p> <a href="https://github.com/andrewmriley/drupal-site-precommit">github.com/andrewmriley/drupal-site-precommit</a></p>
  </section>

  <section>
    <h2>Post commit</h2>
     <p>Do tasks like copy your commit message to your clipboard?</p>
     <pre><code>
#!/bin/bash

# Create dayone entry with last commit message
git log --pretty=format:"%s @${PWD##*/}%n%b" -1 HEAD | dayone new

# Copy last commit message copied to clipboard
git log --pretty=format:"%s %n%b" -1 HEAD | pbcopy
</code>
     </pre>
  </section>

  <section>
    <h3 class="fragment fade-out">But I forget to add those to my repo</h3>
    <h2 class="fragment">.git_template</h2>
    <p class="fragment">In your ~/.gitconfig</p>
    <pre class="fragment"><code>
  [alias]
    init = init --template ~/.git_template

  [init]
  templatedir = ~/.git_template
</code></pre>
    <p class="fragment">A good tutorial for setting this up. <a href="http://brettterpstra.com//2014/03/20/logging-git-commits-with-doing/">Logging Git commits with doing</a></p>
  </section>

  <section>
    <h2>Git tools</h2>
  </section>

  <section>
    <h2><a href="http://jonas.nitro.dk/tig/">Tig</a></h2>
     <p>Text-mode interface for git.</p>
  </section>

  <section data-state="background" data-background-video="videos/tig.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
    <h2> <a href="https://github.com/michaeldfallen/git-radar">Git radar</a></h2>
     <img src="assets/git-radar-file-status.png" alt="" width="" height="" border="0" />
    <p class="fragment">A more basic tool, <a href="https://github.com/djl/vcprompt">vcprompt</a>.</p>
  </section>

</section>
<section>
  <section>
    <h2>Vim</h2>
     <img src="assets/iamdevloper.png" class="fragment" alt="" width="" height="" border="0" />
  </section>

  <section  data-state="background" data-background="assets/carey-typing.gif" data-background-size="95%" >
  </section>

  <section>
    <h2>Why Vim?</h2>
    <p class="fragment">I plan on coding for many years.</p>
    <p class="fragment">I'm already in the shell.</p>
    <p class="fragment">Open source and availible on all systems.</p>
    <p class="fragment">Will NEVER die.</p>
    <p class="fragment">I love using the keyboard.</p>
    <aside class="notes">
      RSI
    </aside>
  </section>

  <section>
    <h2>Can Vim do ____?</h2>
    <p class="fragment">Yes!</p>
    <p class="fragment">Vim is infinitely customizable</p>
  </section>

  <section>
    <h3>Plugins</h3>
    <ul>
    <p><a href="https://github.com/scrooloose/nerdtree">NerdTree- File management</a></p>
    <p><a href="https://github.com/ctrlpvim/ctrlp.vim">ctrlP.vim</a></p>
    <p><a href="https://github.com/tpope/vim-fugitive">Vim Fugitive - Git</a></p>
    <p><a href="https://github.com/airblade/vim-gitgutter">Gitgutter - Git</a></p>
    <p><a href="https://github.com/joonty/vdebug.git">Vdebug - Debugging</a></p>
    <p><a href="https://github.com/tpope/vim-surround">Vim Surround</a></p>
    <p><a href="https://www.drupal.org/project/vimrc">Vim Plugin For Drupal</a></p>
    <p><a href="https://github.com/vim-airline/vim-airline">Vim Airline</a></p>
    <p><a href="https://github.com/VundleVim/Vundle.vim">Vundle - Plugin management</a></p>
    </ul>
  </section>

</section>

<section>
  <section>
    <h2>Drush</h2>
      <p class="fragment">Download and enable modules</p>
      <p class="fragment"> Backup and import databases</p>
      <p class="fragment">Run updates</p>
      <p class="fragment">Watch logs</p>
      <p class="fragment">Log in as any user and much much more!</p>
  </section>

  <section>
    <h2>Drush aliases</h2>
    <p class="fragment">Drush commands against a specific Drupal site, even remote sites.</p>
    <pre class="fragment"><code>drush @youralias somecommand -y</code></pre>
    <pre class="fragment"><code>drush use @youralias</code></pre>
    <pre class="fragment"><code>drush somecommand -y</code></pre>
    <aside class="notes">
    <p>Tired of typing the full alias for every command</p>
    <p>Now you can just type</p>
    </aside>
  </section>

  <section data-state="background" data-background-video="videos/drush-use.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
    <h2>Drupal Watchdog Log</h2>
    <pre><code>drush ws --tail</code></pre>

  </section>

  <section data-state="background" data-background-video="videos/drush-ws-tail.mp4" data-background-video-loop data-background-color="#003954">
  </section>

</section>

<section>
  <section>
    <h2>Drupal Console</h2>
  </section>

  <section>
      <h3>Install Drupal</h3>
      @TODO Add Gif
  </section>

  <section>
      <h3>Generate content</h3>
      @TODO Add Gif
  </section>

  <section>
      <h3>Build modules</h3>
      @TODO Add Gif
  </section>

  <section>
      <h3>Manage site</h3>
          @TODO Add Gif
  </section>
</section>

<section>
  <section>
    <h3>Tmux - Bringing it All Together</h3>
      tmux is a terminal multiplexer
    <aside class="notes">
      What is a terminal multiplexer? It lets you switch easily between several programs in one terminal, detach them (they keep running in the background) and reattach them to a different terminal. And do a lot more.
    </aside>
  </section>

  <section>
    <h2>Why Tmux</h2>
    <p class="fragment">Detach and attach to terminal sessions without loosing state.</p>
    <p class="fragment">Isolate your terminal sessions.</p>
    <p class="fragment">Script terminal session layout based on project needs.</p>
  </section>

  <section>
    <h2>Tmux</h2>
    <p class="fragment">Sessions</li>
    <p class="fragment">Windows</li>
    <p class="fragment">Panes</li>
  </section>

  <section>
      <h2>Sessions</h2>
  </section>

  <section data-state="background" data-background-video="videos/tmux-session.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
      <h2>Windows</h2>
  </section>

  <section data-state="background" data-background-video="videos/tmux-windows.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
      <h2>Panes</h2>
  </section>

  <section data-state="background" data-background-video="videos/tmux-panes.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
      <h2>Tmuxinator</h2>
  </section>

  <section>
        <h3>Manage complex tmux sessions easily</h3>
  </section>

  <section>
    <h3>Projects are Yaml files</h3>
  </section>

  <section data-state="background" data-background-video="videos/tmuxinator-project.mp4" data-background-video-loop data-background-color="#003954">
  </section>

  <section>
        <h3>Projects</h3>
  </section>

  <section>
        <h3>Switch projects quickly</h3>
  </section>

  <section data-state="background" data-background-video="videos/tmuxinator-open.mp4" data-background-video-loop data-background-color="#003954">
  </section>
</section>

<section>
  <h1>Resources</h1>
  <p><a href="https://bitbucket.org/kepford/dotfiles">My Dot files</a></p>
  <p><a href="https://dotfiles.github.io/">dotfiles - Your unofficial guide to dotfiles on GitHub.</a></p>
  <p><a href="http://shelldevel.net/">ShellDevel</a></p>
  <p><a href="https://vimeo.com/84183973">Craft your own IDE in the shell - Wynn Netherland</a></p>
</section>

<section>
  <h2>Resources</h2>

  <h3>Git</h3>
  <p><a href="http://gitready.com/">Git Ready</a></p>
  <p><a href="http://pcottle.github.io/learnGitBranching/">Learn Git branching</a></p>
  <p><a href="https://try.github.io/levels/1/challenges/1">Got 15 minutes and want to learn Git?</a></p>
  <p><a href="https://github.com/andrewmriley/drupal-site-precommit">Git precommit hooks</a></p>
</section>

<section>
  <h2>Resources</h2>

  <h3>Vim</h3>
  <p><a href="http://vimcasts.org/">Vim Casts</a></p>
  <p><a href="https://mikecoutermarsh.com/boston-vim-learning-vim-in-a-week/">Boston Vim: Learning Vim in a Week</a></p>
  <p><a href="https://www.youtube.com/watch?v=3TX3kV3TICU">Let Vim Do the Typing</a>
  <p><a href="http://vim-adventures.com/">Vim adventures</a></p>
  <p><a href="http://www.vimgolf.com/">VimGolf</a></p>
</section>

<section>
  <h2>Resources</h2>

  <h3>Tmux</h3>
  <p> <a href="http://www.mediacurrent.com/blog/efficient-drupal-development-tmux-and-tmuxinator">Efficient Drupal Development with Tmux and Tmuxinator</a></p>
  <p><a href="https://upcase.com/tmux">Tmux - Upcase - Paid but very good.</a></p>
  <p><a href="https://robots.thoughtbot.com/a-tmux-crash-course">A tmux Crash Course</a></p>
</section>

<section>
  <h2>Thank You!</h2>
  <p><a href="http://twitter.com/kepford">@kepford</a></p>
  <p><a href="http://mediacurrent.com">mediacurrent.com</a></p>
  <p><a href="http://theweeklydrop.com">TheWeeklyDrop.com</a></p>
</section>
</div>
</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				center: true,
        fragments: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
